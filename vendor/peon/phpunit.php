<?php

/*
|--------------------------------------------------------------------------
| Register The Autoloader
|--------------------------------------------------------------------------
*/

require __DIR__ . '/src/Autoloader.php';
$autoloader = new \Peon\Autoloader;
$autoloader->register();

/*
|--------------------------------------------------------------------------
| Get Autoloader Configuration
|--------------------------------------------------------------------------
*/

$autoloaderConfig = require __DIR__ . '/../../config/autoload.php';

/*
|--------------------------------------------------------------------------
| Require Files
|--------------------------------------------------------------------------
*/

require __DIR__ . '/PeonTestCase.php';

/*
|--------------------------------------------------------------------------
| Register Namespaces
|--------------------------------------------------------------------------
*/

foreach ($autoloaderConfig['namespaces'] as $namespace => $path) {
    $autoloader->registerNamespace($namespace, realpath(__DIR__ . '/../../' . $path));
}

/*
|--------------------------------------------------------------------------
| Clean Up
|--------------------------------------------------------------------------
*/

unset($autoloaderConfig, $autoloader, $namespace, $path);

